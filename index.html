<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>butteryellowkitchen</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Floating bubbles layer (fixed, behind everything) -->
  <div class="bubble-canvas" id="bubbleCanvas"></div>
  <!-- Sparkle/light particles layer -->
  <div class="sparkle-canvas" id="sparkleCanvas"></div>

  <header>
    <nav>
      <a href="index.html" class="logo">butteryellowkitchen</a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="philosophy.html">Philosophy</a>
        <a href="about.html">About</a>
      </div>
    </nav>
  </header>

  <div class="hero-wrapper scene-root" id="sceneRoot">

    <!-- Layer 0: Sky (parallax 0.01) -->
    <div class="scene-layer scene-sky" data-parallax="0.01" aria-hidden="true">
      <div class="sunbeam sunbeam-1"></div>
      <div class="sunbeam sunbeam-2"></div>
      <div class="sunbeam sunbeam-3"></div>
      <div class="dust-mote-layer" id="dustMoteLayer"></div>
    </div>

    <!-- Layer 1: Hills + garden outside window (parallax 0.02) -->
    <div class="scene-layer scene-hills" data-parallax="0.02" aria-hidden="true">
      <div class="hill hill-far"></div>
      <div class="hill hill-mid"></div>
      <div class="hill hill-near"></div>
      <div class="garden-tree">
        <div class="tree-trunk"></div>
        <div class="tree-canopy tree-canopy-back"></div>
        <div class="tree-canopy tree-canopy-front"></div>
      </div>
      <div class="garden-row">
        <div class="garden-plant"></div>
        <div class="garden-plant"></div>
        <div class="garden-plant"></div>
      </div>
    </div>

    <!-- Layer 2: Window + curtains (parallax 0.025) -->
    <div class="scene-layer scene-window" data-parallax="0.025" aria-hidden="true">
      <div class="window-frame" id="windowFrame">
        <div class="window-panes">
          <div class="pane pane-tl"></div>
          <div class="pane pane-tr"></div>
          <div class="pane pane-bl"></div>
          <div class="pane pane-br"></div>
          <div class="pane-bar pane-bar-h"></div>
          <div class="pane-bar pane-bar-v"></div>
        </div>
        <div class="window-sill">
          <div class="sill-cup" id="sillCup">
            <div class="cup-body">
              <div class="cup-handle"></div>
              <div class="cup-liquid"></div>
            </div>
            <div class="cup-saucer"></div>
            <div class="steam-container">
              <div class="steam steam-1"></div>
              <div class="steam steam-2"></div>
              <div class="steam steam-3"></div>
            </div>
          </div>
          <div class="sill-plant" id="sillPlant">
            <div class="pot-body"></div>
            <div class="pot-rim"></div>
            <div class="herb-stems">
              <div class="herb-stem stem-1"><div class="herb-leaf leaf-l"></div><div class="herb-leaf leaf-r"></div></div>
              <div class="herb-stem stem-2"><div class="herb-leaf leaf-l"></div><div class="herb-leaf leaf-r"></div></div>
              <div class="herb-stem stem-3"><div class="herb-leaf leaf-l"></div></div>
            </div>
          </div>
          <div class="sill-book">
            <div class="book-pages"></div>
            <div class="book-cover"></div>
          </div>
        </div>
      </div>
      <div class="curtain curtain-left" id="curtainLeft"></div>
      <div class="curtain curtain-right" id="curtainRight"></div>
    </div>

    <!-- Layer 3: Kitchen counter (parallax 0.035) -->
    <div class="scene-layer scene-counter" data-parallax="0.035" aria-hidden="true">
      <div class="counter-surface">
        <div class="counter-edge"></div>
        <div class="grain grain-1"></div>
        <div class="grain grain-2"></div>
        <div class="grain grain-3"></div>
      </div>
    </div>

    <!-- Layer 4: Hero letter card on counter (parallax 0.045) -->
    <div class="scene-layer scene-hero-card" data-parallax="0.045">
      <section class="hero scene-letter" role="region" aria-label="Site introduction">
        <p class="hero-tagline">a letter to the woman becoming herself</p>
        <h1>Nourish the Body.<br>Tend the Skin.<br>Feed the Mind.<br>Master the Art.</h1>
        <div class="divider"></div>
        <p class="hero-description">Eating well &middot; Skincare as ritual &middot; Learning deeply &middot; Living like a polymath</p>
      </section>
    </div>

    <!-- Clouds layer (parallax 0.015) -->
    <div class="scene-layer cloud-layer" data-parallax="0.015" aria-hidden="true">
      <div class="cloud cloud-md"></div>
      <div class="cloud cloud-lg"></div>
      <div class="cloud cloud-sm"></div>
      <div class="cloud cloud-md"></div>
      <div class="cloud cloud-sm"></div>
    </div>

    <!-- Scroll fade veil -->
    <div class="scene-scroll-veil" id="sceneVeil" aria-hidden="true"></div>

  </div>

  <!-- Four Pillars -->
  <section class="pillars">
    <div class="pillar">
      <div class="pillar-icon">&#127860;</div>
      <h3>Nourish</h3>
      <p>Eat with intention</p>
    </div>
    <div class="pillar">
      <div class="pillar-icon">&#127800;</div>
      <h3>Tend</h3>
      <p>Skin as self-care</p>
    </div>
    <div class="pillar">
      <div class="pillar-icon">&#128214;</div>
      <h3>Learn</h3>
      <p>Stay endlessly curious</p>
    </div>
    <div class="pillar">
      <div class="pillar-icon">&#10024;</div>
      <h3>Master</h3>
      <p>The polymath spirit</p>
    </div>
  </section>

  <div class="divider-ornament">&middot; &middot; &middot;</div>

  <!-- Quote -->
  <div class="letter-block">
    <p>She decided to nourish herself the way she nourished everyone else &mdash; gently, deeply, and without apology.</p>
    <span class="attribution">&mdash; butteryellowkitchen</span>
  </div>

  <!-- Posts -->
  <main class="home">
    <div class="section-heading">
      <h2>Recent Letters</h2>
      <p>thoughts, rituals & slow wisdom</p>
    </div>

    <div class="posts-grid">

      <!-- Featured Post -->
      <article class="post-card featured category-begin">
        <div class="featured-left">
          <span class="category">The Beginning</span>
          <h2><a href="posts/a-letter-to-begin.html">A Letter to the Woman Who Wants to Do It All</a></h2>
          <time>February 18, 2026</time>
          <br><br>
          <a href="posts/a-letter-to-begin.html" class="read-more">read this letter &rarr;</a>
        </div>
        <div class="featured-right">
          <p class="letter-greeting">Dear you,</p>
          <p>This is for the woman who has always felt like she contains multitudes. Who wants to cook a beautiful meal <em>and</em> read philosophy before bed. Who believes that taking care of her skin is not vanity but a quiet act of self-respect.</p>
          <p>Welcome to the kitchen table. Pull up a chair.</p>
        </div>
      </article>

      <!-- Latest Post -->
      <article class="post-card category-master" data-reveal>
        <div class="card-illus" aria-hidden="true"></div>
        <span class="category">Master</span>
        <time>February 19, 2026</time>
        <h2><a href="posts/when-you-werent-ready.html">The Opportunity That Didn't Wait &mdash; and What Life Was Teaching You Instead</a></h2>
        <p class="excerpt">You did everything right. You prepared, you showed up, you gave it everything. And it still didn't happen. This is a letter about missing the door &mdash; and what to do in the quiet season that follows.</p>
        <a href="posts/when-you-werent-ready.html" class="read-more">continue reading &rarr;</a>
      </article>

      <!-- Post 2 -->
      <article class="post-card category-nourish" data-reveal>
        <div class="card-illus" aria-hidden="true">
          <div class="illus-herb illus-herb-1"></div>
          <div class="illus-herb illus-herb-2"></div>
          <div class="illus-herb illus-herb-3"></div>
          <div class="illus-bowl"></div>
        </div>
        <span class="category">Nourish</span>
        <time>February 16, 2026</time>
        <h2><a href="posts/philosophy-of-eating-well.html">The Quiet Philosophy of Eating Well</a></h2>
        <p class="excerpt">Being a good eater isn't about diets or discipline. It's about paying attention &mdash; to what your body asks for, to where your food came from, to the simple act of sitting down.</p>
        <a href="posts/philosophy-of-eating-well.html" class="read-more">continue reading &rarr;</a>
      </article>

      <!-- Post 3 -->
      <article class="post-card category-tend" data-reveal>
        <div class="card-illus" aria-hidden="true"></div>
        <span class="category">Tend</span>
        <time>February 14, 2026</time>
        <h2><a href="posts/skincare-as-ritual.html">Skincare as a Love Letter to Yourself</a></h2>
        <p class="excerpt">Every evening, when you cleanse your face and smooth on something soft, you are saying: I am worth this tenderness. Here's how to build a ritual that actually feels like one.</p>
        <a href="posts/skincare-as-ritual.html" class="read-more">continue reading &rarr;</a>
      </article>

      <!-- Post 4 -->
      <article class="post-card category-learn" data-reveal>
        <div class="card-illus" aria-hidden="true"></div>
        <span class="category">Learn</span>
        <time>February 12, 2026</time>
        <h2><a href="posts/becoming-a-learner.html">On Becoming a Woman Who Never Stops Learning</a></h2>
        <p class="excerpt">The most magnetic women I know are perpetual students &mdash; of language, of history, of the tiny beautiful details of the world. This is how to stay endlessly curious.</p>
        <a href="posts/becoming-a-learner.html" class="read-more">continue reading &rarr;</a>
      </article>

      <!-- Post 5 -->
      <article class="post-card category-master" data-reveal>
        <div class="card-illus" aria-hidden="true"></div>
        <span class="category">Master</span>
        <time>February 10, 2026</time>
        <h2><a href="posts/modern-polymath.html">The Modern Polymath: Doing Everything at Your Best</a></h2>
        <p class="excerpt">You don't have to choose one thing. The world told you to specialize. But the richest lives are lived by women who refuse to shrink themselves into a single category.</p>
        <a href="posts/modern-polymath.html" class="read-more">continue reading &rarr;</a>
      </article>

      <!-- Post 6 -->
      <article class="post-card category-nourish" data-reveal>
        <div class="card-illus" aria-hidden="true">
          <div class="illus-herb illus-herb-1"></div>
          <div class="illus-herb illus-herb-2"></div>
          <div class="illus-herb illus-herb-3"></div>
          <div class="illus-bowl"></div>
        </div>
        <span class="category">Rituals</span>
        <time>February 8, 2026</time>
        <h2><a href="posts/morning-rituals.html">A Soft Morning Routine for the Woman Who Wants to Feel Alive</a></h2>
        <p class="excerpt">Not a productivity hack. Not a 5 AM grind. A gentle architecture for mornings that makes you feel like you belong to yourself before you belong to the world.</p>
        <a href="posts/morning-rituals.html" class="read-more">continue reading &rarr;</a>
      </article>

    </div>
  </main>

  <!-- Newsletter -->
  <section class="newsletter">
    <h3>Letters to Your Inbox</h3>
    <p class="newsletter-sub">a gentle nudge, every week or so</p>
    <form class="newsletter-form" onsubmit="event.preventDefault(); this.innerHTML='<p style=\'font-family:Caveat,cursive; font-size:1.1rem; color:#c8893a;\'>Thank you, darling. Talk soon.</p>'">
      <input type="email" placeholder="your email" required>
      <button type="submit">Subscribe</button>
    </form>
  </section>

  <footer>
    <p class="footer-tagline">eat well, glow softly, learn always, master everything</p>
    <p>&copy; 2026 butteryellowkitchen &middot; made with warmth</p>
  </footer>

  <button class="theme-toggle" id="themeToggle" aria-label="Toggle time of day theme">‚òÄÔ∏è</button>

  <script>
  (function () {
    /* Bail entirely if user prefers reduced motion */
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

    /* ‚îÄ‚îÄ BUBBLE ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function bubbleEngine() {
      const canvas = document.getElementById('bubbleCanvas');
      const MAX_BUBBLES = 5;
      let active = 0;

      function spawnBubble() {
        if (active >= MAX_BUBBLES) return;
        active++;

        const size = 8 + Math.random() * 24;           // 8‚Äì32 px
        const x    = 5 + Math.random() * 90;           // 5‚Äì95 vw
        const dur  = 8 + Math.random() * 10;           // 8‚Äì18 s
        const sway = (Math.random() * 36 - 18) + 'px'; // ‚Äì18 to +18 px
        const hue  = Math.round(Math.random() * 40 - 20); // slight colour twist

        const b = document.createElement('div');
        b.className = 'bubble';
        b.style.cssText = [
          `width:${size}px`,
          `height:${size}px`,
          `left:${x}vw`,
          `bottom:${-size}px`,
          `--dur:${dur}s`,
          `--sway:${sway}`,
          `filter:hue-rotate(${hue}deg)`
        ].join(';');

        canvas.appendChild(b);

        const cleanup = () => { b.remove(); active--; };
        b.addEventListener('animationend', cleanup, { once: true });
        // Safety timeout in case animationend never fires
        setTimeout(cleanup, (dur + 1) * 1000);
      }

      function schedule() {
        spawnBubble();
        setTimeout(schedule, 2200 + Math.random() * 2600); // 2.2‚Äì4.8 s
      }

      schedule();
    })();

    /* ‚îÄ‚îÄ SPARKLE ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function sparkleEngine() {
      const canvas = document.getElementById('sparkleCanvas');
      const MAX_AMBIENT = 3;
      let ambientActive = 0;

      /* Ambient sparkles ‚Äî random positions across the page */
      function spawnAmbient() {
        if (ambientActive >= MAX_AMBIENT) return;
        ambientActive++;

        const size = 3 + Math.random() * 4;            // 3‚Äì7 px
        const x    = 5 + Math.random() * 90;           // 5‚Äì95 vw
        const y    = 10 + Math.random() * 80;           // 10‚Äì90 vh
        const dur  = 1.8 + Math.random() * 1.2;        // 1.8‚Äì3.0 s
        const dx   = (Math.random() * 24 - 12) + 'px';
        const dy   = (-8 - Math.random() * 20) + 'px';

        const s = document.createElement('div');
        s.className = 'sparkle';
        s.style.cssText = [
          `width:${size}px`,
          `height:${size}px`,
          `left:${x}vw`,
          `top:${y}vh`,
          `--dur:${dur}s`,
          `--dx:${dx}`,
          `--dy:${dy}`
        ].join(';');

        canvas.appendChild(s);

        const cleanup = () => { s.remove(); ambientActive--; };
        s.addEventListener('animationend', cleanup, { once: true });
        setTimeout(cleanup, (dur + 0.5) * 1000);
      }

      function scheduleAmbient() {
        spawnAmbient();
        setTimeout(scheduleAmbient, 1800 + Math.random() * 1700); // 1.8‚Äì3.5 s
      }

      scheduleAmbient();

      /* Hover sparkles ‚Äî 6-dot burst near headings & links */
      function spawnHoverBurst(cx, cy) {
        for (let i = 0; i < 6; i++) {
          const angle = (i / 6) * Math.PI * 2;
          const dist  = 12 + Math.random() * 16;
          const size  = 3 + Math.random() * 3;
          const dur   = 0.7 + Math.random() * 0.5;
          const dx    = (Math.cos(angle) * dist) + 'px';
          const dy    = (Math.sin(angle) * dist - 8) + 'px';

          const s = document.createElement('div');
          s.className = 'sparkle';
          s.style.cssText = [
            `width:${size}px`,
            `height:${size}px`,
            `left:${cx}px`,
            `top:${cy}px`,
            `position:fixed`,
            `--dur:${dur}s`,
            `--dx:${dx}`,
            `--dy:${dy}`
          ].join(';');

          canvas.appendChild(s);
          const cleanup = () => s.remove();
          s.addEventListener('animationend', cleanup, { once: true });
          setTimeout(cleanup, (dur + 0.3) * 1000);
        }
      }

      /* Attach hover listener to headings and nav links */
      document.querySelectorAll('h1, h2, h3, .nav-links a, .read-more, .logo').forEach(el => {
        el.addEventListener('mouseenter', function (e) {
          const r = e.target.getBoundingClientRect();
          const cx = r.left + r.width  / 2;
          const cy = r.top  + r.height / 2;
          spawnHoverBurst(cx, cy);
        });
      });

      /* Burst events from scene interactions */
      document.addEventListener('burst', e => spawnHoverBurst(e.detail.cx, e.detail.cy));
    })();

    /* ‚îÄ‚îÄ PARALLAX ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function parallaxEngine() {
      if (window.matchMedia('(hover: none)').matches) return;
      const layers = document.querySelectorAll('[data-parallax]');
      if (!layers.length) return;
      const layerData = Array.from(layers).map(el => ({ el, factor: parseFloat(el.dataset.parallax) || 0 }));
      let mouseX = 0, mouseY = 0, currentX = 0, currentY = 0, rafId = null;
      let centerX = window.innerWidth / 2, centerY = window.innerHeight / 2;
      document.addEventListener('mousemove', e => {
        mouseX = e.clientX - centerX; mouseY = e.clientY - centerY;
        if (!rafId) rafId = requestAnimationFrame(tick);
      });
      function tick() {
        rafId = null;
        currentX += (mouseX - currentX) * 0.08;
        currentY += (mouseY - currentY) * 0.08;
        layerData.forEach(({ el, factor }) => {
          el.style.transform = `translate3d(${currentX * factor}px,${currentY * factor}px,0)`;
        });
        if (Math.abs(mouseX - currentX) > 0.1 || Math.abs(mouseY - currentY) > 0.1) {
          rafId = requestAnimationFrame(tick);
        }
      }
      window.addEventListener('resize', () => { centerX = window.innerWidth/2; centerY = window.innerHeight/2; }, { passive: true });
    })();

    /* ‚îÄ‚îÄ SCROLL ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function scrollEngine() {
      const sceneRoot = document.getElementById('sceneRoot');
      let scrollRafId = null;
      window.addEventListener('scroll', () => {
        if (!scrollRafId) scrollRafId = requestAnimationFrame(() => {
          scrollRafId = null;
          const veil = Math.min(window.scrollY / (sceneRoot.offsetHeight * 0.8), 1);
          sceneRoot.style.setProperty('--veil-opacity', veil.toFixed(3));
        });
      }, { passive: true });
      const cards = document.querySelectorAll('[data-reveal]');
      if (!('IntersectionObserver' in window)) { cards.forEach(c => c.classList.add('revealed')); return; }
      const obs = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) return;
          const idx = Array.from(entry.target.parentElement.children).indexOf(entry.target);
          entry.target.style.transitionDelay = `${idx * 0.1}s`;
          entry.target.classList.add('revealed');
          obs.unobserve(entry.target);
        });
      }, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });
      cards.forEach(c => obs.observe(c));
    })();

    /* ‚îÄ‚îÄ TIME-OF-DAY THEME ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function timeThemeEngine() {
      const THEMES = [
        [5,  11, 'theme-morning',   '‚òÄÔ∏è'],
        [11, 16, 'theme-afternoon', 'üå§Ô∏è'],
        [16, 20, 'theme-evening',   'üåÖ'],
        [20, 29, 'theme-night',     'üåô'],
      ];
      const CLASSES = THEMES.map(t => t[2]);
      const btn = document.getElementById('themeToggle');
      let idx = 0;
      function applyTheme(i) {
        document.body.classList.remove(...CLASSES);
        if (THEMES[i][2] !== 'theme-morning') document.body.classList.add(THEMES[i][2]);
        btn.textContent = THEMES[i][3];
        idx = i;
        if (THEMES[i][2] === 'theme-night') spawnStars(); else document.querySelectorAll('.night-star').forEach(s => s.remove());
      }
      function spawnStars() {
        const sky = document.querySelector('.scene-sky');
        if (!sky || sky.querySelector('.night-star')) return;
        for (let i = 0; i < 28; i++) {
          const s = document.createElement('div');
          s.className = 'night-star';
          s.style.cssText = `left:${5+Math.random()*90}%;top:${2+Math.random()*55}%;--star-dur:${2+Math.random()*4}s;animation-delay:${-Math.random()*4}s`;
          sky.appendChild(s);
        }
      }
      const h = new Date().getHours();
      const h24 = h < 5 ? h + 24 : h;
      const auto = THEMES.findIndex(t => h24 >= t[0] && h24 < t[1]);
      applyTheme(auto >= 0 ? auto : 0);
      btn.addEventListener('click', () => applyTheme((idx + 1) % THEMES.length));
    })();

    /* ‚îÄ‚îÄ DUST MOTE ENGINE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function dustMoteEngine() {
      const layer = document.getElementById('dustMoteLayer');
      if (!layer) return;
      const MAX = 8; let active = 0;
      function spawn() {
        if (active >= MAX) return;
        active++;
        const size = 1.5 + Math.random() * 2;
        const dur = 10 + Math.random() * 14;
        const m = document.createElement('div');
        m.className = 'dust-mote';
        m.style.cssText = [
          `width:${size}px`, `height:${size}px`,
          `left:${25+Math.random()*50}%`, `top:${5+Math.random()*65}%`,
          `--mote-dur:${dur}s`,
          `--dx:${Math.random()*30-15}px`, `--dy:${-20-Math.random()*40}px`,
          `--dx2:${Math.random()*20-10}px`, `--dy2:${-40-Math.random()*30}px`,
          `animation-delay:${-Math.random()*dur}s`
        ].join(';');
        layer.appendChild(m);
        setTimeout(() => { m.remove(); active--; }, (dur * 4 + 2) * 1000);
      }
      (function schedule() { spawn(); setTimeout(schedule, 1500 + Math.random() * 2000); })();
    })();

    /* ‚îÄ‚îÄ SCENE INTERACTIONS + CONSTELLATION DRAWER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function sceneInteractions() {
      // Cup click: tiny wobble
      const cup = document.getElementById('sillCup');
      if (cup) {
        cup.addEventListener('click', () => {
          cup.style.transform = 'rotate(5deg)';
          setTimeout(() => { cup.style.transform = 'rotate(0deg)'; }, 150);
        });
      }
      // Plant hover: dispatch burst event
      const plant = document.getElementById('sillPlant');
      if (plant) {
        plant.addEventListener('mouseenter', () => {
          const r = plant.getBoundingClientRect();
          document.dispatchEvent(new CustomEvent('burst', { detail: { cx: r.left + r.width/2, cy: r.top + r.height/2 } }));
        });
      }
      // Curtain proximity response to mouse
      const cl = document.getElementById('curtainLeft');
      const cr = document.getElementById('curtainRight');
      const sr = document.getElementById('sceneRoot');
      if (cl && cr && sr) {
        document.addEventListener('mousemove', e => {
          const rect = sr.getBoundingClientRect();
          if (e.clientY > rect.bottom) return;
          const f = 1 - Math.abs(e.clientX / rect.width - 0.5) * 2;
          cl.style.transform = `scaleX(${1 + f * 0.04})`;
          cr.style.transform = `scaleX(${1 + f * 0.04})`;
        });
      }
      // Constellation illustrations for .category-master .card-illus
      document.querySelectorAll('.category-master .card-illus').forEach(illus => {
        const pts = [{x:20,y:60},{x:35,y:40},{x:50,y:25},{x:65,y:40},{x:80,y:60},{x:50,y:50},{x:50,y:70}];
        const edges = [[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[5,1]];
        pts.forEach(p => {
          const s = document.createElement('span');
          s.className = 'illus-star';
          s.style.cssText = `left:${p.x}%;top:${p.y}%`;
          illus.appendChild(s);
        });
        edges.forEach(([a,b]) => {
          const pa = pts[a], pb = pts[b];
          const dx = pb.x - pa.x, dy = pb.y - pa.y;
          const len = Math.sqrt(dx*dx + dy*dy);
          const ang = Math.atan2(dy,dx) * 180 / Math.PI;
          const line = document.createElement('div');
          line.style.cssText = `position:absolute;width:${len}%;height:1px;left:${pa.x}%;top:${pa.y}%;transform:rotate(${ang}deg);transform-origin:left center;background:rgba(212,175,55,0.4);pointer-events:none`;
          illus.appendChild(line);
        });
      });
    })();

  })();
  </script>

</body>
</html>
